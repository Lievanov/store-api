# Store API coding challenge - Applaudo studios

This is a challenge using NodeJS.

### Instalation

Run the following script in your console:

Get the code:
```javascript
$ git clone git@github.com:Lievanov/store-api.git

$ cd store-api
```
Install npm dependencies 
```javascript
$ npm install 
```

Now in the config folder, open dev.js file and add your mongo database connection
```javascript
module.exports = {
    mongoURI: ''
}
```

Now the project is ready to run!
```javascript
$ npm run dev
```

### Routing

This API contains the following routes:

#### Login Routes
* __Sign Up - Body Required: (username, password, role)__

_(role can be null)_
```html
/signup (post)
```

* __Log In - Body Required: (username, password)__
```html
/login (post)
```
* __Logout__
```html
/logout (get)
```
#### Product Routes

* __Create product - Body required (name, price)__
```html
/product (post) - (login as Admin)
```
* __All products - Query required (sort_by, offset, limit); (sort_by=likes)__

_(sorting by name is by default)_
```html
/products?sort_by=likes&offset=0&limit=6 (get)

/products?offset=0&limit=10 (get)
```

* __Get a product - Param required (ProductName)__
```html
/product/:ProductName (get)
```
* __Delete a product - Param required (ProductName)__
```html
/product/:ProductName (delete) - (login as Admin)
```
* __Update a product price - Body required (productName, newPrice)__
```html
/product (patch) - (login as Admin)
```
* __Add - remove like - Param required (ProductName)__
```html
/product/like/:ProductName (post) - (login)
```
#### Stock routes

* __Add product in stock - Body Required (productName, quantity)__
```html
/stock (post) - (login as Admin)
```
* __Buy a product - Body Required (productName, quantity)__
```html
/stock/buy (post) - (login as User)
```

### Important information

1. The database is autogenerated by Mongo, 
but if you need a dump from the database, 
follow the database installation process.
2. To get the admin role, 
please sign up with a 
username called __"admin"__ and you will
get the Admin role.
_Any other account will be User role._
3. If you are using POSTMAN, for every post/patch/delete request use __x-www-form-urlencoded__.
4. The project is configured in __port 3000__.


### Database installation


#### Created accounts

__Admin account__
```html
username: admin
password: admin
```

__User account__
```html
username: user
password: password
```
### Versioning 

NodeJS v8.9.1

npm v5.5.1

Mongo v3.4.9

### Author

Diego Lievano
